<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Символьные классы</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script defer src="../scripts.js"></script>
</head>

<body>
    <div class="contents">
        <h2><a href="#symbols">Символьные классы</a></h2>
        <ul>
            <li><a href="#revers">Обратные символьные классы</a></li>
            <li><a href="#point">Точка – это любой символ</a></li>
            <li><a href="#total">Итого</a></li>
        </ul>
    </div>
    <div class="topic" id="symbols">
        <h2><a href="https://learn.javascript.ru/regexp-character-classes">Символьные классы</a></h2>
        <p>Рассмотрим практическую задачу – у нас есть номер телефона вида "+7(903)-123-45-67", и нам нужно превратить
            его в строку только из чисел: 79031234567. </p>
        <pre class="startbutton" onclick="expl1()"><code class="language-js">
let str = "+7(903)-123-45-67";

let regexp = /\d/g;

alert( str.match(regexp) ); // массив совпадений: 7,9,0,3,1,2,3,4,5,6,7

// и можно сделать из них уже чисто цифровой номер телефона
alert( str.match(regexp).join('') ); // 79031234567                
            </code></pre>
        <script>
            function expl1() {
                let str = "+7(903)-123-45-67";

                let regexp = /\d/g;

                alert(str.match(regexp)); // массив совпадений: 7,9,0,3,1,2,3,4,5,6,7

                // и можно сделать из них уже чисто цифровой номер телефона
                alert(str.match(regexp).join('')); // 79031234567                    
            }
        </script>
        <p>Наиболее используемые символьные классы:</p>
        <li><code>\d</code> («d» от английского «digit» означает «цифра»)
            <br>Цифра: символ от 0 до 9.
        </li>
        <li><code>\s</code> («s»: от английского «space» – «пробел»)
            <br>Пробельные символы: включает в себя символ пробела, табуляции \t, перевода строки \n и некоторые другие
            редкие пробельные символы, обозначаемые как \v, \f и \r.
        </li>
        <li><code>\w</code> («w»: от английского «word» – «слово»)
            <br>Символ «слова», а точнее – буква латинского алфавита или цифра или подчёркивание _. Нелатинские буквы не
            являются частью класса \w, то есть буква русского алфавита не подходит.
        </li>
        <p>Для примера, <code>\d\s\w</code> обозначает «цифру», за которой идёт пробельный символ, а затем символ слова,
            например <code>1 a</code>.</p>
        <blockquote>Регулярное выражение может содержать как обычные символы, так и символьные классы.

            Например, CSS\d соответствует строке CSS с цифрой после неё:</blockquote>
        <pre class="startbutton" onclick="expl2()"><code class="language-js">
let str = "Есть ли стандарт CSS4?";
let regexp = /CSS\d/

alert( str.match(regexp) ); // CSS4                
            </code></pre>
        <script>
            function expl2() {
                let str = "Есть ли стандарт CSS4?";
                let regexp = /CSS\d/

                alert(str.match(regexp)); // CSS4                    
            }
        </script>
        <p>Так же можно использовать несколько классов:</p>
        <pre><code class="language-js">
alert( "I love HTML5!".match(/\s\w\w\w\w\d/) ); // ' HTML5'                
            </code></pre>
        <p>Каждому символу соответствует свой симольный класс.</p>
    </div>
    <div class="topic" id="revers">
        <h3>Обратные символьные классы</h3>
        <p>Для каждого символьного класса существует «обратный класс», обозначаемый той же буквой, но в верхнем
            регистре.

            «Обратный» означает, что он соответствует всем другим символам, например:</p>
        <ul>
            <li><code>\D</code>
                <br>Не цифра: любой символ, кроме <code>\d</code>, например буква.
            </li>
            <li><code>\S</code>
                <br>Не пробел: любой символ, кроме <code>\s</code>, например буква.
            </li>
            <li><code>\W</code>
                <br>Любой символ, кроме <code>\w</code>, то есть не буквы из латиницы, не знак подчёркивания и не цифра.
                В частности, русские буквы принадлежат этому классу.
            </li>
        </ul>
        <p>В качестве примера удаляем все нецифровые симовы из строки:</p>
        <pre><code class="language-js startbutton" onclick="expl3()">
let str = "+7(903)-123-45-67";

alert( str.replace(/\D/g, "") ); // 79031234567            
        </code></pre>
        <script>
            function expl3() {
                let str = "+7(903)-123-45-67";

                alert(str.replace(/\D/g, "")); // 79031234567                
            }
        </script>
    </div>
    <div class="topic" id="point">
        <div id="any">
            <h3>Точка – это любой символ</h3>
            <p>Точка <code>.</code> – это специальный символьный класс, который соответствует «любому символу, кроме
                новой
                строки <code>\n</code>». Для примера:</p>
            <pre><code class="language-js startbutton" onclick="expl4()">
let regexp = /CS.4/;

alert( "CSS4".match(regexp) ); // CSS4
alert( "CS-4".match(regexp) ); // CS-4
alert( "CS 4".match(regexp) ); // CS 4 (пробел тоже является символом)

alert( "CS4".match(/CS.4/) ); // null, нет совпадений потому что нет символа для точки
</code></pre>
            <script>
                function expl4() {
                    let regexp = /CS.4/;

                    alert("CSS4".match(regexp)); // CSS4
                    alert("CS-4".match(regexp)); // CS-4
                    alert("CS 4".match(regexp)); // CS 4 (пробел тоже является символом)

                    alert("CS4".match(/CS.4/)); // null, нет совпадений потому что нет символа для точки
                }
            </script>
        </div>
        <div id="anywithdot">
            <h3>Точка как буквально любой символ, с флагом «s»</h3>
            <p>Обычно точка не соответствует символу новой строки \n. Но как <a
                    href="./regexp-introduction.html#flags">писалось в этом разделе</a> с <code>\s</code> означает оно и
                перевод строки:</p>
            <pre><code class="language-js startbutton" onclick="expl5()">
alert( "A\nB".match(/A.B/s) ); // A\nB (совпадение!)
alert( "A\r\nB".match(/A.B/s) ); // A\r\nB (совпадение? не думаю! потому что более одного символа)
//А так сработает:
alert( "A\r\nB".match(/A..B/s) ); // A\r\nB (совпадение!)
</code></pre>
            <script>
                function expl5() {
                    alert("A\nB".match(/A.B/s)); // A\nB (совпадение!)
                    alert("A\r\nB".match(/A.B/s)); // A\r\nB (совпадение? не думаю! потому что более одного символа)
                    alert("A\r\nB".match(/A..B/s)); //  (совпадение!)
                }
            </script>
        </div>
    </div>
    <div class="topic" id="total">
        <h3>Итого</h3>
        <p>Существуют следующие символьные классы:</p>
        <ul>
            <li><code>\d</code> – цифры.</li>
            <li><code>\D</code> – не цифры.</li>
            <li><code>\s</code> – пробельные символы, табы, новые строки.</li>
            <li><code>\S</code> – все, кроме <code>\s</code>.</li>
            <li><code>\w</code> – латиница, цифры, подчёркивание '_'.</li>
            <li><code>\W</code> – все, кроме <code>\w</code>.</li>
            <li><code>.</code> – любой символ, если с флагом регулярного выражения s, в противном случае любой символ,
                кроме перевода строки \n. </li>
        </ul>
        <p>…Но это не всё!</p>

        <p>В кодировке Юникод, которую JavaScript использует для строк, каждому символу соответствует ряд свойств,
            например – какого языка это буква (если буква), является ли символ знаком пунктуации, и т.п.</p>

        <p>Можно искать, в том числе, и по этим свойствам. Для этого нужен флаг <code>u</code>, который мы рассмотрим в следующей
            главе. </p>
    </div>






</body>

</html>