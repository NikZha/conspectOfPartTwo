<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Наборы и диапазоны [...]</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script defer src="../scripts.js"></script>
</head>

<body>
    <div class="contents">
        <h2><a href="#ranges">Наборы и диапазоны [...]</a></h2>
        <ul>
            <li><a href="#kit">Наборы</a></li>
            <li><a href="#band">Диапазоны</a></li>
            <li><a href="#noband">Исключающие диапазоны</a></li>
            <li><a href="#shielding">Экранирование внутри […]</a></li>
            <li><a href="#flag">Наборы и флаг «u»</a></li>
            <li><a href="#tasks">Задачи</a></li>
        </ul>
    </div>
    <div class="topic" id="ranges">
        <h2><a href="https://learn.javascript.ru/regexp-character-sets-and-ranges">Наборы и диапазоны [...]</a></h2>
        <p>Несколько символов или символьных классов в квадратных скобках […] означают «искать любой символ из
            заданных».</p>
    </div>
    <div class="topic" id="kit">
        <h3>Наборы</h3>
        <p>Набор <code>[eao]</code> означает любой из 3-х символов: <code>'a'</code>, <code>'e'</code> или
            <code>'o'</code>.
        </p>
        <pre><code class="language-js startbutton" onclick="expl1()">
// найти [т или х], после которых идёт "оп"
alert( "Топ хоп".match(/[тх]оп/gi) ); // "Топ", "хоп"
//Однако совпадение идёт только по одному символу:
alert( "Вуаля".match(/В[уа]ля/) ); // null, нет совпадений            
        </code></pre>
        <script>
            function expl1() {
                // найти [т или х], после которых идёт "оп"
                alert("Топ хоп".match(/[тх]оп/gi)); // "Топ", "хоп"
                //Однако совпадение идёт только по одному символу:
                alert("Вуаля".match(/В[уа]ля/)); // null, нет совпадений                    
            }
        </script>
        <p>То есть в последней строке сматчится или <code>Вуля</code> или <code>Валя</code>.</p>
    </div>
    <div class="topic" id="band">
        <h3>Диапазоны</h3>
        <p><code>[a-z]</code> соответствует символу в диапазоне от a до z, или <code>[0-5]</code> – цифра от 0 до 5,
            например поиск 16-ричных цифр:</p>
        <pre><code class="language-js startbutton" onclick="alert( 'Exception 0xAF'.match(/x[0-9A-F][0-9A-F]/g) ); // xAF">
alert( "Exception 0xAF".match(/x[0-9A-F][0-9A-F]/g) ); // xAF                
            </code></pre>
        <blockquote>
            <h4>Символьные классы – сокращения для наборов символов</h4>
            <p>Символьные классы – не более чем сокращение для наборов символов. Например:</p>
            <ol>
                <li><span style="font-weight: bold;">\d</span> – то же самое, что и <code>[0-9]</code>,</li>
                <li><span style="font-weight: bold;">\w</span> – то же самое, что и <code>[a-zA-Z0-9_]</code>,</li>
                <li><span style="font-weight: bold;">\s</span> – то же самое, что и <code>[\t\n\v\f\r ]</code>, плюс
                    несколько редких пробельных символов Юникода. </li>
            </ol>
        </blockquote>
        <div id="example">
            <h3>Пример: многоязычный аналог \w</h3>
            <p>Давайте сделаем более универсальный шаблон, который ищет символы, используемые в словах, для любого
                языка. Это очень легко с Юникод-свойствами: <code>[\p{Alpha}\p{M}\p{Nd}\p{Pc}\p{Join_C}]</code>.
                Где:</p>
            <ul>
                <li><code>Alphabetic</code> <code>(Alpha)</code> – для букв,</li>
                <li><code>Mark</code> <code>(M)</code> – для акцентов,</li>
                <li><code>Decimal_Number</code> <code>(Nd)</code> – для цифр,</li>
                <li><code>Connector_Punctuation</code> <code>(Pc)</code> – для символа подчёркивания '_' и подобных ему,
                </li>
                <li><code>Join_Control</code> <code>(Join_C)</code> – два специальных кода 200c и 200d, используемые в
                    лигатурах, например, арабских. </li>
            </ul>
            <p>Например:</p>
            <pre><code class="language-js startbutton" onclick="expl2()">
let regexp = /[\p{Alpha}\p{M}\p{Nd}\p{Pc}\p{Join_C}]/gu;

let str = `Hi 你好 12`;

// найдены все буквы и цифры
alert( str.match(regexp) ); // H,i,你,好,1,2                
            </code></pre>
            <script>
                function expl2() {
                    let regexp = /[\p{Alpha}\p{M}\p{Nd}\p{Pc}\p{Join_C}]/gu;

                    let str = `Hi 你好 12`;

                    // найдены все буквы и цифры
                    alert(str.match(regexp)); // H,i,你,好,1,2                    
                }
            </script>
        </div>
    </div>
    <div class="topic" id="noband">
        <h3>Исключающие диапазоны</h3>
        <p>Помимо обычных диапазонов, есть «исключающие» диапазоны, которые выглядят как <code>[^…]</code>. Например:
        </p>
        <pre><code class="language-js startbutton" onclick="expl3()">
alert( "alice15@gmail.com".match(/[^a-z]/gi) );
alert( "alice15@gmail.com".match(/[^\d.@]/gi) );          
        </code></pre>
        <p>Данный скрипт исключает все буквы нижнего регистра и вторым алертом - цифры, точки и @.</p>
        <script>
            function expl3() {
                alert("alice15@gmail.com".match(/[^a-z]/gi));
                alert("alice15@gmail.com".match(/[^\d.@]/gi));
            }
        </script>
    </div>



</body>

</html>