<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Открытие окон и методы window</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script defer src="../scripts.js"></script>
</head>

<body>
    <div class="contents">
        <h2><a href="#open">Открытие окон и методы window</a></h2>
        <ul>
            <li><a href="#block">Блокировка попапов</a></li>
            <li><a href="#full">Полный синтаксис window.open</a></li>
            <li><a href="#example">Пример: минималистичное окно</a></li>
            <li><a href="#accsess">Доступ к попапу из основного окна</a></li>
            <li><a href="#acc">Доступ к открывшему окну из попапа</a></li>
            <li><a href="#close">Закрытие попапа</a></li>
            <li><a href="#scroll">Прокрутка и изменение размеров</a></li>
            <li><a href="#scrollwondow">Прокрутка окна</a></li>
            <li><a href="#lost">Установка и потеря фокуса</a></li>
            <li><a href="#total">Итого</a></li>
        </ul>
    </div>
    <div class="topic" id="open">
        <h2><a href="https://learn.javascript.ru/popup-windows">Открытие окон и методы window</a></h2>
        <p>Открытие отдельного окна:</p>
        <pre><input type="button" value="Открытие окна" onclick="window.open('https://javascript.info/')">
            <code class="language-js">
window.open('https://javascript.info/')            
        </code></pre>
        <p>Но в текущий момент это околоанахронизм, поскольку js может грузить окна fetch в том числе и в отдельном div:
        </p>
        <script>
            async function expl1(params) {
                let respons = await fetch('../README.HTML');
                testdiv.innerHTML = await respons.text()
            }
        </script>
        <pre><code class="language-js">
            async function expl1(params) {
                let respons = await fetch('../README.HTML');
                testdiv.innerHTML = await respons.text()
            }            
        </code></pre>
        <div id="testdiv" onclick="expl1()">Кликни на меня</div>
        <p>Однако для ряда задач pop-up может использоваться, поскольку:</p>
        <ol>
            <li>Попап – это отдельное окно со своим JavaScript-окружением. Так что открытие попапа со стороннего, не
                доверенного сайта вполне безопасно</li>
            <li>Открыть попап очень просто.</li>
            <li>Попап может производить навигацию (менять URL) и отсылать сообщения в основное окно.</li>
        </ol>
    </div>
    <div class="topic" id="block">
        <h3>Блокировка попапов</h3>
        <p>Поскольку эффективные менеджеры засрали вообще все, то по крайней мере ff крайне неохотно открывает любые
            попапы, но</p>
        <pre><code class="language-js">
// попап заблокирован
window.open('https://javascript.info');

// попап будет показан
button.onclick = () => {
  window.open('https://javascript.info');
};            
        </code></pre>
        <p>Хотя кто мешает повесить подобное на просто клики по документы, на
            mousemove-mouseover-mouseout-mouseenter-mouseleave и тд.</p>
    </div>
    <div class="topic" id="full">
        <h3>Полный синтаксис window.open</h3>
        <pre><code class="language-js">
window.open(url, name, params)        
    </code></pre>
        <p>где:</p>
        <ul>
            <li><strong>url</strong>
                <br>URL для загрузки в новом окне.
            </li>
            <li><strong>name</strong>
                <br>Имя нового окна. У каждого окна есть свойство window.name, в котором можно задавать, какое окно
                использовать для попапа. Таким образом, если уже существует окно с заданным именем – указанный в
                параметрах URL откроется в нем, в противном случае откроется новое окно.
            </li>
            <li><strong>params</strong>
                <br>Строка параметров для нового окна. Содержит настройки, разделённые запятыми. Важно помнить, что в
                данной строке не должно быть пробелов. Например <code>width=200,height=100</code>.
            </li>

        </ul>
        <p><code>params</code> задаются String где:</p>
        <ul>
<li>Позиция окна:</li><ul>
<li><code>left/top (числа)</code> – координаты верхнего левого угла нового окна на экране. Существует ограничение: новое окно не может быть позиционировано вне видимой области экрана.</li>
<li><code>width/height (числа)</code> – ширина и высота нового окна. Существуют ограничения на минимальную высоту и ширину, которые делают невозможным создание невидимого окна.</li>
</ul>
<li>Панели окна:</li>
<ul>
<li><code>menubar (yes/no)</code> – позволяет отобразить или скрыть меню браузера в новом окне.</li>
<li><code>toolbar (yes/no)</code> – позволяет отобразить или скрыть панель навигации браузера (кнопки вперёд, назад, перезагрузки страницы) нового окна.</li>
<li><code>location (yes/no)</code> – позволяет отобразить или скрыть адресную строку нового окна. Firefox и IE не позволяют скрывать эту панель по умолчанию.</li>
<li><code>status (yes/no)</code> – позволяет отобразить или скрыть строку состояния. Как и с адресной строкой, большинство браузеров будут принудительно показывать её.</li>
<li><code>resizable (yes/no)</code> – позволяет отключить возможность изменения размера нового окна. Не рекомендуется.</li>
<li><code>scrollbars (yes/no)</code> – позволяет отключить полосы прокрутки для нового окна. Не рекомендуется.            </li>
</ul>
        </ul>
    </div>








</body>

</html>